<!--
Author: Felix Guo
Copyright Felix Guo 2016
-->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
		<title>WendyScript Documentation</title>

		<!-- Bootstrap -->
		<link href="bootstrap.css" rel="stylesheet">
		
		<!--Google Font Links-->
		
		<link href='//fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
		<link href='//fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
		
		<link rel="icon" type="image/png" href="../images/icon.png">

		<link rel="stylesheet" href="main.css" type="text/css">
		
		<link rel="stylesheet" href="wendyHighlighting.css" type="text/css">
	</head>
	<body>
	 	<div class="mainContainer">
			<div class="row title">
				<div class="col-md-12">
					<h1>Wendy<span>Script</span></h1>
					<h2>Documentation 2.0</h2>
				</div>
			</div>
			<div class="row">
				<div class="col-md-9 col-md-push-3 content">
					<!-- content -->
					<h1 style="margin-top:0px" id="gettingstarted">Getting Started</h1>
					<p><a href="../index.html#wendyScript" class="btn btn-lg btn-success">Try it online!</a></p>
					<p>You can also check out the source code for the WendyScript interpreter at: <a href="https://github.com/fg123/wendy">GitHub</a>.
					<br> The source is entirely in C and you are welcome to clone and build it yourself. Wendy can be run
					either with a file or in REPL mode.</p>
					<p>By typing <code>wendy</code> into the console, wendy will be run in REPL mode. Otherwise: </p>
					<pre><code>wendy <i>filename.w</i></code></pre>

					<h1 style="margin-top:0px" id="introduction">Introduction</h1>
					<p>Welcome to WendyScript, a programming language! WendyScript supports first class functions, dynamic typing, optional semicolons, and short form statements.
						Let's start with the most basic: outputting "Hello World!".</p>
					<pre><code>"Hello World!"</code></pre>
					<p>This will output <code>Hello World!</code> to the console.</p>
					<p>You may have noticed that we did not need to use a print function. This is because
						expressions evaluated at the top-level will be printed out in the console by WendyScript.</p>
					<p>Each top-level expression will be printed on seperate lines (the newline character follows the expression). For example:</p>
<pre><code>"Hello World!";
"This is on a new line!";</code></pre>
					<pre>Hello World!<br>This is on a new line!</pre>
					<p>This behaviour can be negated by adding a <code>@</code> character in the front of 
					any top-level expression:</p>
					<pre><code>@"Hello World!";
"This is on a new line!";</code></pre><pre><code>Hello World!This is on a newline!</code></pre>

					<h1 id="constants">Variables</h1>
					<p>WendyScript is dynamically typed and supports three (+ null) types of data: numbers, strings, and boolean values.</p>
<pre><code>let name = "Wendy"; // declares and sets a string variable
let age = 18; // declares and set a number variable 
let x; // declares x and sets it to &lt;none&gt;, a NULL type
let valid_license = true; // declares and sets a boolean variable

age = 19; // mutates the value of age to be 19
name = 20; // dynamic types allows variable types to be changed</code></pre>	
					<p>WendyScript also supports two special commands for numeric typed variables: <code>inc</code> and <code>dec</code>.
					These functions can be called to add 1 or subtract 1 to a variable respectively.</p>
<pre><code>let number = 9;
inc number; // number is now 10
dec number; // number is now 9</code></pre>	
					<div class="alert alert-warning" role="alert"><b>Note: </b><code>inc</code> and <code>dec</code> can only be called
					on variables that are numbers. Calling on a variable with string value will throw an error.</div>

					<h1 id="operators">Operators</h1>
					<p>Operators in WendyScript are shown below.</p>
					<pre><code>10 + 10; // Addition
9 - 2; // Subtraction
3 * 8; // Multiplication
10 / 4; // Floating Point Division
10 \ 4; // Integer Division
((1 + 2) * 10) / (5 * 3); // Any Combination
"Hello " + "World!"; // String Concatenation 

// Boolean Operators
true and true;
true and false;
true or false;
false or false;
</code></pre> 
<pre><code>20
7
24
2.5
2
2
Hello World!
&lt;true&gt;
&lt;false&gt;
&lt;true&gt;
&lt;false&gt;
</code></pre> <p>WendyScript also supports generic boolean operators like <code class="nostyle">>= <= == < ></code>.


					<h1 id="functions">Functions</h1>
					<p>WendyScript supports first class functions. Functions can be pass and returned through other functions. 
						Local functions can be declared within other functions.
						To bind a function to an identifier: </p>
<pre><code>let f => (x) { 
	function_body;
};</code></pre></p> <p>WendyScript also supports recursive functions.</p>
<pre><code>let factorial => (x) { 
	if (x <= 1) {
		ret 1;
	}
	else {
		ret x * factorial(x - 1);
	};
};
@"The factorial of 5 is ";
factorial(5);</code></pre> 
<pre><code>The factorial of 5 is 120</code></pre>
					<p>Here we introduce you to the <code>ret</code> keyword. <code>ret</code> allows functions
					to return a value to the original place it was called. In this case, the returned
					value <code>120</code> was left as a top level expression and thus was printed.</p>
					<div class="alert alert-info" role="alert"><b>Note: </b>Functions that have no return
					statement or returns no value automatically returns <code>none</code>. In the case of a 
					function call, this will print <code>&lt;none&gt;</code> to the screen! The simple way 
					around that is to always return a value. 
<pre><code>let printHello => () { 
	"Hello World!";
};
printHello();</code></pre> 
					<pre>Hello World! <br>&lt;none&gt;</pre>
					<p>The <code>Hello World!</code> occurs when the function body has run and the <code>&lt;none&gt;</code> occurs when 
					the result of the <code>printHello</code> function is printed to the screen. Since the function has no return
					value, the function returns <code>none</code></p><br>
<pre><code>let printHello => () { 
	ret "Hello World!";
};
printHello();

let printHello2 => () { 
	"Hello World!";
	ret;
};
printHello2();</code></pre> 
					<p>Both of these will produce the expected behaviour: <code>Hello World!</code> Note the extra <code>ret</code> in the function body. If <code>ret</code>
					is called with no value, the function will print no value.</p>
					</div>
					
					<h2 id="lambda">Lambda</h2>
					<p>WendyScript also support lambda functions. Lambda functions can be defined using <code>#:</code>. 
					For example: </p>
<pre><code>#:(x) { ret x * 2; }</code></pre>
					<p>Lambda functions can be bound to identifiers via regular assignment, which
						is really just an alternative to using <code>=></code>.</p>
<pre><code>let f = #:(x) { ret x * 2; }; 
// is essentially the same as
let f => (x) { ret x * 2; };</code></pre>
					<p>Since functions are first class in WendyScript, 
					we can pass a function identifier, or a lambda function into other functions, as well as bind
					local functions within other functions and even return functions. Let's create a function
					named <code>apply()</code> that takes in a function that accepts two values, and two additional
					values, then applies the given function to the given two values.</p>
<pre><code>let apply => (fn, a, b) {
	ret fn(a, b);
};</code></pre>
					<p>This function can now be invoked by either passing a function identifier, or a lambda 
						function.</p>
<pre><code>let multiply => (x, y) { ret x * y; };
apply(multiply, 10, 20); // invoke with another function

apply(#:(a, b) { ret a * b; }, 10, 20); // invoke with a lambda function</code></pre>
<pre><code>200
200</code></pre>
					

					<h1 id="lists">Lists</h1>
					<p>WendyScript supports a dynamically typed collection: a list. To create a list:</p>
					<pre><code>let mylist = [];</code></pre>
					<p>This declares an empty array.</p>
					<pre><code>let mylist = [1, 2, "hello", false];</code></pre> 
					<p>This declares an array of size 4 with the given elements. An array's elements can be accessed 
						in a similar way. For example: </p>
					<pre><code>mylist[0]; // accesses the first element
mylist[3]; // accesses the last element</code></pre>
					<p>When a list is pass into a function, it is always passed by reference. This is the same as assigning a list to another. A copy is not made.</p>
<pre><code>let my_fn => (lst) {
	lst[1] = 10; // Change the second element
	ret;
};
let a = [1, 2, 3];
my_fn(a);
a;</code></pre>
<pre><code>[1, 10, 3]</code></pre>
					<p>You can make a shallow copy of a list using the <code>~</code> operator. For example, if you passed <code>~a</code> into <code>my_fn</code>, it would
					not modify the original list.</p>
					<p>WendyScript also has a range of operators for dealing with lists.</p>
<pre><code>// We have list equality and inequality
[10, 20, 30] != [20, 30, 10]; // true
[10, 20, 30] == [10, 20, 30]; // true

// List Concatenation
[10, 20, 30] + [20, 30, 40]; // [10, 20, 30, 20, 30, 40]

// Item Append
true + [10, 20, 30]; // [true, 10, 20, 30]
[10, 20, 30] + 40; // [10, 20, 30, 40]

// <b>in</b> operator
// Does 10 exist in the list?
10 ~ [10, 20, 30]; // true</code></pre>		

					<h1 id="objects">Objects</h1>
					<p>WendyScript also supports Object-Oriented Programming through the use
						of Structures and Structure Instances. Structures are also first class citizens
						and as such can be assigned and passed around. To create a structure, we 
						use the <code>struct</code> keyword. For example:</p>
						<pre><code>struct posn => (x, y) [print];</code></pre>
					<p>In the backend, this accomplishes several tasks. A posn structure is defined
						with two instance members: x and y, as well as a static member: print. A default
						constructor function is also created based on the instance members. This constructor
						function can be overwritten by mutating the <code>posn.init</code> function,
						but this constructor must end with <code>ret this;</code> to pass the instance
						back to the caller. </p>
					<p>Let's define what print does:</p>
						<pre><code>posn.print => () {
	"This is a posn objet at " + this.x + ", " + this.y + ".";
};</code></pre>
					<p>Now we can create a posn instance with: <code>let a = posn(10, 20);</code> and access
					the instance members with <code>a.x</code> and <code>a.y</code>. We can also call print with
					<code>a.print()</code>. </p>
					
					<p>Inheritance can be performed by declaring a parent for a struct. We can make a circle class extend the
						posn class.</p> 
					<pre><code>struct circle:posn => (radius) [print];
// default init function will only take a radius, lets override it
circle.init => (x, y, radius) {
	this.x = x
	this.y = y
	this.radius = radius
}
// override the print function
circle.print => () {
	"This is a circle objet at " + this.x + ", " + this.y + " with radius " + this.radius + ".";
}
// create a circle object
let myc = circle(10, 20, 30)
myc.x
myc.y
myc.radius
</code></pre>

					<h1 id="conditions">Conditions</h1>
					<p>Conditions work the same way as in most languages with familiar syntax.</p>
					<pre><code>let x = 10;
if (x <= 10) {
	"X is less than or equal to 10!";
}
else {
	"X is greater than 10!";
};
</code></pre> 
					<pre><code class="nostyle">X is less than or equal to 10!</code></pre>
					<p>Conditions can also include multiple boolean expressions that are 
						joined with either <code>and</code> or <code>or</code>.</p>
<pre><code>let name = "Wendy";
let age = 18;
let valid_license = true;

if (age >= 19 and valid_license) {
	"You are old enough to drink!";
}
else if (valid_license) {
	"You're not old enough!";
}
else {
	"You don't have a valid license!";
};
</code></pre><pre><code class="nostyle">You're not old enough!</code></pre>
						

					<h1 id="loops">Loops</h1>
					<p>WendyScript supports an advanced loop syntax using the keyword <code>for</code>. There are
					two ways to use this for loop. The first is to provide it with one parameter, in which the
					parameter must be a condition and the loop will act like a <code>while</code> loop. </p>
<pre><code>let x = 5;
for (x > 0) {
	@(x + " ");
	dec x;
};
</code></pre><pre><code class="nostyle">5 4 3 2 1 </code></pre>
					<p>The other way is to supply two parameters, in which the loop acts like a <code>foreach</code> loop.
					The first parameter must be an identifier (which will automatically be declared), and the second 
					parameter should be an iterable collection (List, Range, String). The identifier supplied will be
					inflated with the value of the current object in the iterable collection. For example, to print out 
					the contents of a list: </p>
					<pre><code>for i in [5, 4, 3, 2, 1] {
	@(i + " ");
}
</code></pre><pre><code class="nostyle">5 4 3 2 1 </code></pre>
					<p>You could also iterate through a range (right bound of range is always exclusive): </p>
					<pre><code>for i in 5->0 {
	@(i + " ");
}
</code></pre><pre><code class="nostyle">5 4 3 2 1 </code></pre>
					<p>And finally, through a string: </p>
					<pre><code>for i in "Hello" {
	@(i + "!");
}
</code></pre><pre><code class="nostyle">H!e!l!l!o!</code></pre>
					<p>Using loops is a quick way to fill a list with a number of initial values. To initialize a list
						with size 10 and all zeros, you could write: </p>
						<pre><code>let lst = []
for i in 0->10 lst += 0
lst
</code></pre><pre><code class="nostyle">[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</code></pre>
					<h1 id="input">User Input</h1>

					<p>User input is easy in WendyScript! Input is achieved by the <code>input</code> keyword. </p>	
					<pre><code>let name;
@"What is your name? ";
input name;
@"Your name is: " + name;
</code></pre>
<pre><code class="nostyle">What is your name? Wendy<br>Your name is: Wendy</code></pre>
					<p>If the user enters a number, it will be stored as such, anything else will be stored as a string. 
						Be aware that you must declare the variable the user input is to be stored in before prompting <code>input</code>.
					</p>
					
					<h1 id="time">Time</h1>
					<p>WendyScript provides the <code>time</code> keyword, which returns a UTC value of the current time.
					This is often used with <code>random.w</code> to instantiate the seed for the random number generator.</p>

					<h1 id="shortform">Short Form / Shortcuts</h1>
					<p>Syntax is WendyScript is relatively relaxed. Conditions in loops and conditionals do not require
						parentheses and single statements do not require curly braces either. This is completely valid: 
					</p>
					<pre><code>let a = 10
if a == 10 "A is 10!" else "A is not 10!"
</code></pre>
					<p>Functions in WendyScript also have implicit returns, so if the body of the function is just an expression, 
						it will be automatically returned.</p>
					<pre><code>let square => (x) {
	ret x * x;
}
// can also be written as
let square => (x) x * x
// which is a lot less verbose
</code></pre>
					<p>Most keywords in WendyScript also have a symbolic short form.</p>
<pre><code class="nostyle">: in
& and
| or
? if
: else
# for
++ inc
-- dec
<< let
>> input
/> ret</code></pre> 

					<p>So a factorial function could be written like this: </p>
					<pre><code><&lt;fact=>(x)?x==0/>1:/>x*fact(x-1)</code></pre>
				</div>

				<div class="col-md-3 col-md-pull-9 navigation">
					<div class="list-group mainmenu">
						<a href="#gettingstarted" class="list-group-item list-group-item-action active">Getting Started</a>
						<a href="#introduction" class="list-group-item list-group-item-action">Introduction</a>
						<a href="#constants" class="list-group-item list-group-item-action">Constants and Variables</a>
						<a href="#operators" class="list-group-item list-group-item-action">Operators</a>
						<a href="#functions" class="list-group-item list-group-item-action">Functions</a>
						<a href="#lambda" class="list-group-item list-group-item-action">Lambda</a>
						<a href="#lists" class="list-group-item list-group-item-action">Lists</a>
						<a href="#objects" class="list-group-item list-group-item-action">Objects</a>
						<a href="#conditions" class="list-group-item list-group-item-action">Conditions</a>
						<a href="#loops" class="list-group-item list-group-item-action">Loops</a>
						<a href="#input" class="list-group-item list-group-item-action">User Input</a>
						<a href="#time" class="list-group-item list-group-item-action">Time</a>		
						<a href="#shortform" class="list-group-item list-group-item-action">Short Form</a>		
						<!--<a href="reference.html" class="list-group-item list-group-item-action">Reference Manual</a>-->
					</div>
				</div>
			</div>
		</div>
		<div class="fewter">
				&copy; Copyright Felix Guo 2017
		</div>		
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>		
		<script src="wendyHighlighting.js" type="text/javascript"></script>
		<script src="spy.js" type="text/javascript"></script>
		<script src="scroll.js" type="text/javascript"></script>
		<script src="codesamp.js" type="text/javascript"></script>
	</body>
</html>
